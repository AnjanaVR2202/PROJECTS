<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Pop the Balloon</title>
<script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap" rel="stylesheet">

<style>
body {
    margin: 0;
    background: linear-gradient(to top, #B3E5FC, #FFF5E4);
    font-family: 'Fredoka One', cursive;
    overflow: hidden;
}

/* Title */
h1 {
    position: absolute;
    top: 100px;
    left: 50%;
    transform: translate(-50%, -50%) scale(1);
    color: #FF3B3B;
    font-size: 60px;
    text-shadow: 2px 2px 5px rgba(0,0,0,0.3);
}

/* Score */
#scoreboard {
    position: absolute;
    top: 200px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 28px;
    color: #333;
}

/* Balloon style */
.balloon {
    position: absolute;
    bottom: -100px;
    width: 60px;
    height: 80px;
    border-radius: 50% 50% 50% 50%;
    cursor: pointer;
    box-shadow: inset -5px -5px rgba(0,0,0,0.2);
}

/* Balloon float animation */
@keyframes floatUp {
    0% { transform: translateY(0); }
    100% { transform: translateY(-900px); }
}

/* Pop effect */
.pop {
    transform: scale(0);
    opacity: 0;
    transition: transform 0.2s, opacity 0.2s;
}
</style>
</head>
<body>

<h1 id="title">Pop the Balloon</h1>
<div id="scoreboard">Score: 0</div>

<script>
let score = 0;
let gameInterval;
let balloonColors = ['#FF4E50','#FFD93D','#4EC5F1','#AB47BC','#7ED957'];


// Function to return random color
function randomColor() {
    return balloonColors[Math.floor(Math.random() * balloonColors.length)];
}

// Function to create a balloon
function createBalloon() {
    let balloon = $('<div class="balloon"></div>');
    let left = Math.random() * (window.innerWidth - 60);
    balloon.css({ left: left + 'px', background: randomColor() });
    $('body').append(balloon);

    // Animate balloon float
    let duration = 5000 + Math.random() * 5000; // 5-10 sec
    balloon.css({ animation: `floatUp ${duration}ms linear forwards` });

    // Remove balloon when out of screen
    setTimeout(() => balloon.remove(), duration);

 balloon.click(function() {
    score++;
    $('#scoreboard').text('Score: ' + score);

    // Immediately pop balloon
    $(this).css({
        transform: 'scale(0)',
        opacity: 0,
        transition: '0.s'
    });


        setTimeout(() => $(this).remove(), 100);
    });
}


// Function to animate the title pulse
function pulseTitle() {
    $('#title')
        .animate({ transform: 'scale(1.2)' }, {
            step: function(now, fx) {
                $(this).css('transform', `translate(-50%, -50%) scale(${now})`);
            }, duration: 500
        })
        .animate({ transform: 'scale(1)' }, {
            step: function(now, fx) {
                $(this).css('transform', `translate(-50%, -50%) scale(${now})`);
            }, duration: 500, complete: pulseTitle
        });
}

// Function to start the game
function startPopBalloonGame(durationSec = 30, spawnRate = 800) {
    score = 0;
    $('#scoreboard').text('Score: ' + score);

    gameInterval = setInterval(createBalloon, spawnRate);

    setTimeout(() => {
        clearInterval(gameInterval);
        $('.balloon').remove();
        alert('Game Over! Your Score: ' + score);
    }, durationSec * 1000);
}

// Start game and title pulse automatically on page load
$(document).ready(function() {
    pulseTitle();
    startPopBalloonGame();
});
</script>

</body>
</html>

